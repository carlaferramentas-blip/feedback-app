<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FeedbackPrivado - Gestão</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --ink: #1a1a2e; --cream: #f0f4ff; --gold: #2563eb; --gold-light: #dbeafe;
    --muted: #6b6b7b; --card: #ffffff; --border: #e2e8f0;
    --green: #2d6a4f; --green-light: #d8f3dc; --red: #9b2226; --red-light: #fde8e8;
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: 'DM Sans', sans-serif; background: #ffffff; color: var(--ink); min-height: 100vh; }
  h1, h2, h3 { font-family: 'Playfair Display', serif; }
  .screen { display: none; min-height: 100vh; }
  .screen.active { display: flex; flex-direction: column; }
  nav { display: flex; justify-content: space-between; align-items: center; padding: 1.5rem 2rem; border-bottom: 1px solid var(--border); background: #fff; position: sticky; top: 0; z-index: 100; }
  .nav-brand { font-size: 1.5rem; font-weight: 700; color: var(--gold); text-decoration: none; }
  .btn { padding: 0.6rem 1.2rem; border-radius: 6px; font-weight: 500; cursor: pointer; border: none; display: inline-flex; align-items: center; gap: 0.5rem; }
  .btn-primary { background: var(--gold); color: #fff; }
  .container { max-width: 1000px; margin: 0 auto; padding: 2rem; width: 100%; }
  .student-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem; }
  .student-card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 1.5rem; position: relative; }
  .score-badge { padding: 0.4rem 0.8rem; border-radius: 20px; font-weight: 600; font-size: 0.85rem; }
  .score-high { background: var(--green-light); color: var(--green); }
  .feedback-text { line-height: 1.8; color: #444; background: #fafafa; padding: 2rem; border-radius: 12px; border-left: 4px solid var(--gold); white-space: pre-wrap; }
  .modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(26,26,46,0.8); display: none; justify-content: center; align-items: center; z-index: 1000; }
  .modal-content { background: #fff; padding: 2rem; border-radius: 20px; max-width: 800px; width: 90%; max-height: 90vh; overflow-y: auto; }
</style>
</head>
<body>

  <nav>
    <a href="#" class="nav-brand">FeedbackPrivado</a>
    <div style="color: var(--muted); font-size: 0.8rem;">Modo: Consulta Global</div>
  </nav>

  <main id="screen-home" class="screen active">
    <div class="container">
      <div style="margin-bottom: 2rem; text-align: center;">
        <h1>Lista de Formandos</h1>
        <p>Dados carregados a partir do ficheiro central</p>
      </div>
      <div id="student-grid" class="student-grid"></div>
    </div>
  </main>

  <div id="feedback-modal" class="modal-overlay" onclick="this.style.display='none'">
    <div class="modal-content" onclick="event.stopPropagation()">
      <h2 id="modal-name"></h2>
      <p id="modal-id" style="color:var(--muted); font-size: 0.8rem; margin-bottom: 1rem;"></p>
      <div id="modal-feedback" class="feedback-text"></div>
      <button class="btn btn-primary" style="margin-top: 1rem;" onclick="document.getElementById('feedback-modal').style.display='none'">Fechar</button>
    </div>
  </div>

<script>
// ══════════════════════════════════════════════════════════════════
//  LISTA DE FORMANDOS (EDITA AQUI PARA ADICIONAR NOVOS)
// ══════════════════════════════════════════════════════════════════
const initialStudents = [
  {
    id: "1772223116455",
    name: "Carla Oliveira",
    password: "co",
    feedback: "Excelente trabalho! Continuação de bons projetos.",
    nota: "10.00",
    criterios: [10, 10, 10, 10, 10, 10, 10]
  },
  {
    id: "1772223116466",
    name: "Sílvia Carlos",
    password: "Azul60",
    feedback: "Bom desempenho global. Deve focar-se mais na análise de dados.",
    nota: "9.17",
    criterios: [9.5, 10, 10, 10, 10, 9, 7]
  },
  {
    id: "1772226211393",
    name: "Helena Serrão",
    password: "Solar41",
    feedback: "Trabalho consistente e boa participação nas aulas.",
    nota: "8.32",
    criterios: [9.5, 10, 7, 7, 8, 10, 7]
  }
  // Para adicionar mais, coloca uma vírgula acima e copia o bloco { ... }
];

// ══════════════════════════════════════════════════════════════════
//  LÓGICA DO SISTEMA
// ══════════════════════════════════════════════════════════════════

const renderList = () => {
  const grid = document.getElementById('student-grid');
  grid.innerHTML = '';

  initialStudents.forEach(s => {
    const card = document.createElement('div');
    card.className = 'student-card';
    card.innerHTML = `
      <small style="color:var(--muted)">ID: ${s.id}</small>
      <h3 style="margin: 0.5rem 0;">${s.name}</h3>
      <p style="font-size: 0.8rem; margin-bottom: 1rem;">Palavra-passe: <strong>${s.password}</strong></p>
      <div style="display: flex; justify-content: space-between; align-items: center; border-top: 1px solid #eee; pt: 1rem;">
        <span class="score-badge score-high">Média: ${s.nota}</span>
        <button class="btn btn-primary" onclick="viewFeedback('${s.id}')">Ver Feedback</button>
      </div>
    `;
    grid.appendChild(card);
  });
};

window.viewFeedback = (id) => {
  const s = initialStudents.find(item => item.id === id);
  if (!s) return;
  document.getElementById('modal-name').innerText = s.name;
  document.getElementById('modal-id').innerText = `ID: ${s.id} | Password: ${s.password}`;
  document.getElementById('modal-feedback').innerHTML = s.feedback || "Sem feedback registado.";
  document.getElementById('feedback-modal').style.display = 'flex';
};

// Iniciar a página
renderList();
</script>
</body>
</html>
